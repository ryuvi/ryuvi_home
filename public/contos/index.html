<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
<title>Ryuvi Home</title>
<meta
  name="description"
  content="Micro Static Site Generator in Node.js"
/>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="theme-color" content="#bd93f9" />
<link rel="stylesheet" href="/assets/css/styles.css" />
<link rel="stylesheet" href="/assets/css/header.css" />

  </head>
  <body>
    <header class="page-header">
  <a href="/" class="header-btn">RYUVI</a>
  <div class="submenu">
    <a href="/poemas" class="header-btn">POEMAS</a>
    <a href="/contos" class="header-btn">CONTOS</a>
    <a href="https://github.com/ryuvi" class="header-btn">CONTATO</a>
  </div>
</header>

<hr />


    <section class="main-content"><ul class="posts" id="posts">
  <script defer>
    let color_list = [
      "#8be9fd",
      "#50fa7b",
      "#ffb86c",
      "#ff79c6",
      "#ff5555",
      "#f1fa8c",
    ];
    fetch("../data/posts.json")
      .then((response) => response.json())
      .then((data) => {
        console.log(data.filter((value) => value.category == "conto"));
        if (data.filter((value) => value.category == "conto").length == 0) {
          let a = document.getElementById("posts");
          a.innerText = "Contos a serem criados ainda!";
          a.style.color = "#ff79c6";
          a.style.fontSize = "2em";
        } else {
          let posts_list = document.getElementById("posts");

          for (let i in data) {
            if (data[i].category === "conto") {
              let color =
                color_list[Math.floor(Math.random() * color_list.length)];
              let li = document.createElement("li");
              let a = document.createElement("a");
              let img = document.createElement("img");
              let h1 = document.createElement("h1");

              a.setAttribute("href", data[i].url);
              h1.innerText = data[i].title;
              h1.setAttribute("class", "title");
              h1.setAttribute("style", `color: ${color};`);

              a.appendChild(h1);
              if (data[i].copyright !== "") {
                let div = document.createElement("div");
                let small = document.createElement("small");
                img.setAttribute("src", data[i].thumbnail);
                img.setAttribute("class", "thumbnail");
                small.innerHTML = data[i].copyright;
                div.appendChild(img);
                div.appendChild(small);
                div.setAttribute("class", "unique");
                a.appendChild(div);
              } else {
                img.setAttribute("src", data[i].thumbnail);
                img.setAttribute("class", "thumbnail");
                a.appendChild(img);
              }

              li.appendChild(a);
              li.setAttribute("class", "post");
              posts_list.appendChild(li);
            }
          }
        }
      });
  </script>
</ul>
</section>

    <hr />

<footer class="page-footer">
  <p class="self-credit">
    Criado com ❤️ por
    <a href="https://github.com/ryuvi" target="_blank">Vicente Nogueira</a>
  </p>
  <p class="dracula-credit">
    Paleta de cores de
    <a href="https://draculatheme.com" target="_blank">Dracula Theme</a>
  </p>
</footer>

  </body>
</html>
